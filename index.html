<!DOCTYPE html>
<html lang="zh-CN" class="scroll-smooth">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"
    />
    <title>图片水印打码工具</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              display: [
                '"Noto Sans SC"',
                '"PingFang SC"',
                '"Microsoft YaHei"',
                'system-ui',
                'sans-serif',
              ],
            },
          },
        },
      };
    </script>
  </head>
  <body class="min-h-screen bg-gradient-to-br from-slate-100 via-white to-slate-100 py-10 text-slate-700">
    <main class="mx-auto w-full max-w-4xl px-4">
      <section class="rounded-[32px] border border-white/60 bg-white/90 p-8 shadow-[0_25px_70px_rgba(15,23,42,0.12)] backdrop-blur-lg md:p-12">
        <div class="space-y-6">
          <header class="text-center space-y-3">
            <p class="inline-flex items-center gap-2 rounded-full bg-slate-100 px-4 py-1 text-xs font-medium uppercase tracking-widest text-slate-500">
              <span class="h-2 w-2 rounded-full bg-sky-500"></span>
              Local Watermark Studio
            </p>
            <h1 class="font-display text-3xl font-semibold text-slate-900 md:text-4xl">
              图片水印打码工具
            </h1>
            <p class="text-base text-slate-500">
              安全地为你的图片添加水印，全程本地处理，特别适用于身份证、驾照、护照等敏感证件。
            </p>
          </header>

          <section class="space-y-4">
            <p class="text-xs font-semibold uppercase tracking-widest text-slate-400">
              第一步
            </p>
            <div class="rounded-2xl border border-dashed border-slate-200 bg-slate-50/60 p-4">
              <label for="image" class="block text-lg font-medium text-slate-700">选择一张本地图片</label>
              <p class="mt-2 text-sm text-slate-500">
                支持 PNG / JPG / GIF，文件仅在你的浏览器中处理。
              </p>
              <input
                type="file"
                id="image"
                autocomplete="off"
                class="mt-4 block w-full cursor-pointer rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-600 file:mr-4 file:cursor-pointer file:rounded-xl file:border-0 file:bg-sky-50 file:px-5 file:py-2.5 file:text-sm file:font-semibold file:text-sky-600 hover:file:bg-sky-100"
              />
            </div>
          </section>

          <section class="space-y-6">
            <p class="text-xs font-semibold uppercase tracking-widest text-slate-400">
              第二步
            </p>
            <div class="rounded-3xl border border-slate-100 bg-white/80 p-5 shadow-inner">
              <label for="text" class="block text-lg font-medium text-slate-700">输入水印文字</label>
              <input
                type="text"
                id="text"
                placeholder="请输入水印文字，30 字以内"
                autocomplete="off"
                maxlength="30"
                class="mt-3 w-full rounded-2xl border border-slate-200 bg-white/80 px-4 py-3 text-base text-slate-700 outline-none transition focus:border-sky-400 focus:ring-2 focus:ring-sky-100"
              />
              <p class="mt-3 text-xs text-slate-400">
                小提示：文字越简短，重复排版后的防伪密度越均匀。
              </p>

              <div class="mt-6 grid gap-6 lg:grid-cols-[240px_1fr]">
                <div class="rounded-3xl border border-slate-100 bg-gradient-to-br from-white via-slate-50 to-slate-100 p-4 shadow-sm">
                  <div class="flex items-center justify-between text-sm font-semibold text-slate-600">
                    <span>颜色调色板</span>
                    <span id="color-value" class="font-mono text-xs text-slate-500">#7F7F7F</span>
                  </div>
                  <div class="mt-4 flex items-center gap-3">
                    <span
                      id="color-chip"
                      class="h-12 w-16 rounded-2xl border border-white/60 shadow-inner"
                      style="background: #7f7f7f"
                    ></span>
                    <label
                      for="color"
                      class="relative flex flex-1 cursor-pointer items-center justify-center rounded-2xl border border-slate-200 bg-white/80 px-3 py-2 text-xs font-semibold text-slate-600 transition hover:border-slate-300"
                    >
                      选取色值
                      <input
                        type="color"
                        id="color"
                        pattern="#[0-9A-Fa-f]{6}"
                        autocomplete="off"
                        value="#7F7F7F"
                        class="absolute h-0 w-0 opacity-0"
                      />
                    </label>
                  </div>
                  <div class="mt-4 grid grid-cols-4 gap-2 text-xs font-medium">
                    <button type="button" data-color-preset="#222222" class="rounded-xl border border-transparent bg-slate-900/90 px-2 py-1 text-white transition hover:opacity-80">
                      深灰
                    </button>
                    <button type="button" data-color-preset="#f97316" class="rounded-xl border border-transparent bg-orange-500/90 px-2 py-1 text-white transition hover:opacity-80">
                      橙色
                    </button>
                    <button type="button" data-color-preset="#0ea5e9" class="rounded-xl border border-transparent bg-sky-500/90 px-2 py-1 text-white transition hover:opacity-80">
                      天蓝
                    </button>
                    <button type="button" data-color-preset="#f8fafc" class="rounded-xl border border-slate-200 bg-white px-2 py-1 text-slate-600 transition hover:border-slate-300">
                      浅色
                    </button>
                  </div>
                </div>

                <div class="grid gap-5 md:grid-cols-2">
                  <div class="rounded-2xl border border-slate-100 bg-white/80 px-4 py-3 shadow-sm">
                    <div class="flex items-center justify-between text-sm font-semibold text-slate-600">
                      <label for="alpha">透明度</label>
                      <span id="alpha-value" class="text-xs font-medium text-slate-500">50%</span>
                    </div>
                    <input
                      type="range"
                      id="alpha"
                      min="0"
                      max="1"
                      step="0.05"
                      autocomplete="off"
                      value="0.5"
                      class="mt-3 w-full cursor-pointer accent-sky-500"
                    />
                  </div>

                  <div class="rounded-2xl border border-slate-100 bg-white/80 px-4 py-3 shadow-sm">
                    <div class="flex items-center justify-between text-sm font-semibold text-slate-600">
                      <label for="angle">角度</label>
                      <span id="angle-value" class="text-xs font-medium text-slate-500">45°</span>
                    </div>
                    <input
                      type="range"
                      id="angle"
                      min="-90"
                      max="90"
                      step="3"
                      autocomplete="off"
                      value="45"
                      class="mt-3 w-full cursor-pointer accent-sky-500"
                    />
                  </div>

                  <div class="rounded-2xl border border-slate-100 bg-white/80 px-4 py-3 shadow-sm">
                    <div class="flex items-center justify-between text-sm font-semibold text-slate-600">
                      <label for="space">行距</label>
                      <span id="space-value" class="text-xs font-medium text-slate-500">4×</span>
                    </div>
                    <input
                      type="range"
                      id="space"
                      min="1"
                      max="8"
                      step="0.2"
                      autocomplete="off"
                      value="4"
                      class="mt-3 w-full cursor-pointer accent-sky-500"
                    />
                  </div>

                  <div class="rounded-2xl border border-slate-100 bg-white/80 px-4 py-3 shadow-sm">
                    <div class="flex items-center justify-between text-sm font-semibold text-slate-600">
                      <label for="inline">横向间距</label>
                      <span id="inline-value" class="text-xs font-medium text-slate-500">1.0×</span>
                    </div>
                    <input
                      type="range"
                      id="inline"
                      min="0"
                      max="4"
                      step="0.1"
                      autocomplete="off"
                      value="1"
                      class="mt-3 w-full cursor-pointer accent-sky-500"
                    />
                  </div>

                  <div class="rounded-2xl border border-slate-100 bg-white/80 px-4 py-3 shadow-sm md:col-span-2">
                    <div class="flex items-center justify-between text-sm font-semibold text-slate-600">
                      <label for="size">字号</label>
                      <span id="size-value" class="text-xs font-medium text-slate-500">1.0×</span>
                    </div>
                    <input
                      type="range"
                      id="size"
                      min="0.5"
                      max="3"
                      step="0.05"
                      autocomplete="off"
                      value="1"
                      class="mt-3 w-full cursor-pointer accent-sky-500"
                    />
                  </div>
                </div>
              </div>
            </div>
          </section>

          <section class="space-y-4">
            <p class="text-xs font-semibold uppercase tracking-widest text-slate-400">
              第三步
            </p>
            <div class="flex flex-wrap items-center gap-4 rounded-2xl border border-slate-100 bg-slate-50/70 p-4">
              <div class="flex items-center gap-2 text-sm text-slate-600">
                <input type="checkbox" id="auto-refresh" autocomplete="off" checked class="h-4 w-4 rounded border-slate-300 text-sky-500 focus:ring-sky-300" />
                <label for="auto-refresh" class="cursor-pointer select-none">实时刷新预览</label>
              </div>
              <button
                id="refresh"
                disabled
                class="rounded-2xl bg-slate-900 px-6 py-2 text-sm font-semibold text-white shadow-lg shadow-slate-900/10 transition disabled:cursor-not-allowed disabled:bg-slate-400"
              >
                刷新
              </button>
              <p class="text-xs text-slate-500">
                点击下方图片即可下载本地 PNG 文件。
              </p>
            </div>
            <div id="graph" class="mt-4 w-full"></div>
          </section>
        </div>
      </section>

      <footer class="mt-10 flex items-center justify-center">
        <a
          href="https://github.com/mingzaily/watermarking"
          class="flex items-center gap-2 rounded-full border border-slate-200 bg-white px-5 py-2 text-sm font-medium text-slate-700 shadow"
        >
          <img
            src="https://cdn.jsdelivr.net/gh/Closty/duanwangzhi/github.png"
            alt="GitHub"
            class="h-6 w-6 transition hover:scale-110"
          />
          开源地址
        </a>
      </footer>
    </main>
    <script src="./main.js"></script>
  </body>
</html>
